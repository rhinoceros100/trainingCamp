#训练营总结
在go进阶训练营三个多月的学习里，我收获了很多，不仅包括go语言本身的，也有微服务、中间件以及go工程化的一些实践。

从这些学习中我收益良多，很多都是在平时的工作中没有接触过的。我从训练营中不仅学到了很多知识，也学到了很多方法论，帮我在以后的工作中进步成长。

##go语言的学习
我从训练营收益最多的是对go语言本身的了解。之前更多的是对go语言的使用，对go语言底层的很多知识都理解不深。训练营的项目让我不仅接触到了很多工程实践的东西，也对go语言底层有了更深入的了解。

* **1 goroutine** 毛老师讲了很多goroutine的底层原理，包括goroutine的生命周期，GMP模型以及goroutine的调度算法，这让我对goroutine本身更加了解，平时写代码时也更游刃有余。
* **2 channel** 之前对channel底层原理不了解，用起来磕磕绊绊。现在了解了它的底层原理，对go的理解也更深了一层。
* **3 内存布局** go的内存布局之前是不太了解的，训练营里学习了内存布局以及内存分配。
* **4 GC** 更深入地理解了gc，知道了gc的染色算法。也通过gc演化地历史学习了很多架构和优化的知识。

##go工程化实践
训练营里的工程化实践相关模块为我打开了一扇大门，了解了业界现在工程化的布局以及实践。

* **1 项目布局** 学习了现在业界流行的项目布局形式，知道了如何更合理的布局internal, pkg, cmd, api等目录。还学习了DTO，DO，PO之间的互相转换。
* **2 api及配置及包管理** 了解了更多api的设计规范以及配置管理方式。
* **3 测试** 之前不是很重视测试这一块，通过毛老师授课以及大明老师讲解，现在对测试这块更加重视了，对相关的测试工具也更加熟悉了。
* **4 error** error的使用规范及使用方法，使用Wrap包error信息。这个是之前没有太注意的。
* **5 日志** 学习了日志选型、日志级别以及ELK处理和呈现日志。
* **6 链路追踪** 使用traceid和spanid在微服务上下游追踪请求，以及采样和观测技巧。
* **7 监控** 使用zipkin，prometheus，pprof等各种工具来监控服务质量，如延迟、流量、CPU、内存等。
* **8 缓存** 了解了常用的缓存选型：memcache和redis，缓存代理的几种类型，了解了几种缓存模型及多级缓存、热点缓存、缓存穿透。

##微服务
原来对微服务只是一些粗浅的了解，通过在训练营学习，现在对微服务有了比较全面的理解。
* **1 微服务的概念** 微服务从单体架构演进而来，从巨石架构演变成多实例的微服务架构，更加方便发布和扩容。
* **2 服务发现** 因为微服务中服务较多，微服务通过服务发现来管理和寻找微服务。
* **3 多租户&多集群** 通过多租户来方便进行测试以及发布，通过多集群来提高系统的性能和冗余能力。
* **4 可用性** 通过负载均衡、隔离、超时、过载保护、限流降级、重试等策略来提高微服务的可用性。这些策略不仅微服务架构中可以使用，在巨石架构中同样可以使用。

##中间件
课程中还有很多对中间件原理的讲解和使用案例，这些中间件方便我们进行服务治理。
* **1 MySQL** MySQL是现在服务端开发最常用的数据库。通过分库分表、主从复制等手段可以提升MySQL的可用性。通过binlog， relay_log进行主从复制，同时也可以借助Canal中间件异步消费MySQL的数据。
* **2 redis** redis和memcache主要用来做缓存。通过学习原理更加明白了各种缓存策略（write through，cache aside，write back等），学习了很多缓存的技巧，也学习了很多redis的底层数据结构。同时通过对redis集群的学习，了解了很多hash的技巧。
* **3 kafka** kafka是使用最多的消息中间件。学习了kafka的很多原理，topic、partition的原理及使用方法，producer, broker, consumer等概念和使用技巧。
* **4 ELK** ElasticSearch，Logstash，Kibana三件套主要用于分析日志及其他用户数据。
* **5 中间件的设计使用** 自顶向下和自底向上的设计方法，以及中间件的合理使用。

##其他常用工具
课程中还学到了其他一些常用的工具。
* **1 DNS** 学习了DNS的原理及问题，同时了解了高可用DNS即HTTPDNS。
* **2 CDN** 了解了CDN的系统架构，知道了CDN内容一致性的问题及解决方法，还有动态、静态CDN的加速。
* **3 多活** 业务多活成本比较高，因此需要对哪些系统需要多活进行选择。通过蚂蚁金服、饿了么、苏宁、Facebook、微信朋友圈等多活实践进一步学习了多活的系统架构。

##案例学习
通过具体系统的学习，融汇贯通工作中可能遇到的各种问题，使我对具体解决问题更加熟悉。
* **1 评论系统设计** 学习了B站评论系统的架构，BFF和service分离，使用redis进行缓存，使用kafka+job进行异步写回源避免热点事件打爆存储，并且使用Canal订阅MySQL的binlog进行消费，最终在ElastacSearch上进行展现。使用singleflight进行归并回源。
* **2 播放历史设计** 播放的设计与评论系统大体类似，不过采用了批量写来减小kafka和HBase的压力，使用cache aside读HBASE。该系统重点优化了缓存设计，引入了布隆过滤器减小写压力。
* **3 GoIM设计** 通过GoIM学习了网络通信方面的知识。基于snowflake生成唯一ID。通过收件箱/发件箱来实现私信系统。

##概括
在训练营中，首先是学到了很多知识。我学习了很多go语言的底层原理，还有很多计算机系统存储、内存、网络通信等各种底层的原理和实现，同时也了解了很多的常用中间件，了解了他们的用法以及实现原理。

其次，通过大量的案例学习，进一步深入理解了这些原理，同时也对一些成熟的设计套路有所了解。

再次，也学会了一些学习方法，懂得如何快速地看开源项目的源码。

然后，通过作业和时实践，加深了认识和理解。

最后，通过视频及课件的reference，找到了更多的学习资料。